@{
    ViewData["Title"] = "Mapa";
}

<div class="container my-4">
    <h1 class="mb-3">@ViewData["Title"]</h1>
    <div id="map" style="height:600px;width:100%;border:1px solid #ddd;"></div>
</div>

@section Scripts {
    <script>
        function initMap() {
            const center = { lat: 52.2297, lng: 21.0122 }; // Warszawa



            // Uproszczony styl: ukrywamy etykiety i ikony, upraszczamy drogi; NIE ZMIENIAMY "landscape" (teren) — dodajemy wyraźne style dla budynków
            const simplifiedStyle = [
                {
                    "featureType": "poi",
                    "elementType": "labels",
                    "stylers": [{ "visibility": "off" }] // Ukrywa domyślne ikony, by nie zasłaniały budynków
                },
                {
                    "featureType": "transit",
                    "stylers": [{ "visibility": "off" }]
                },
                {
                    "elementType": "labels.icon",
                    "stylers": [{ "visibility": "off" }]
                },

                // --- PARKI I ZIELEŃ ---
                {
                    "featureType": "poi.park",
                    "elementType": "geometry",
                    "stylers": [
                        { "visibility": "on" },
                        { "color": "#c5e1a5" } // Przyjemna, naturalna zieleń
                    ]
                },
                // --- WODA I RZEKI ---
                {
                    "featureType": "water",
                    "elementType": "geometry",
                    "stylers": [
                        { "visibility": "on" },
                        { "color": "#b3e5fc" } // Wyraźny, jasny niebieski
                    ]
                },
                // --- BUDYNKI (Istotne dla analizy biznesowej) ---

                // --- DROGI (Białe dla kontrastu z budynkami) ---
                {
                    "featureType": "road",
                    "elementType": "geometry",
                    "stylers": [{ "color": "#ffffff" }]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "geometry",
                    "stylers": [{ "color": "#ffeb3b" }] // Opcjonalnie: żółte autostrady dla lepszej orientacji w trasach dojazdowych
                },
                // --- ETYKIETY TEKSTOWE ---
                {
                    "elementType": "labels.text.fill",
                    "stylers": [{ "color": "#616161" }]
                },
                {
                    "elementType": "labels.text.stroke",
                    "stylers": [{ "color": "#f5f5f5" }]
                }
            ];



            const map = new google.maps.Map(document.getElementById("map"), {
                center: center,
                zoom: 15,
                styles: simplifiedStyle,
                clickableIcons: false,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: false,
                zoomControl: true
            });
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=@ViewData["GoogleMapsApiKey"]&callback=initMap"></script>
}